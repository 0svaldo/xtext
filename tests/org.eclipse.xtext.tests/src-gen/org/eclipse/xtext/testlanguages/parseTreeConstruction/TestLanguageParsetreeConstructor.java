/*
* generated by Xtext
*/
package org.eclipse.xtext.testlanguages.parseTreeConstruction;

import org.eclipse.emf.ecore.*;
import org.eclipse.xtext.*;
import org.eclipse.xtext.parsetree.reconstr.IInstanceDescription;
import org.eclipse.xtext.parsetree.reconstr.impl.AbstractParseTreeConstructor;

import org.eclipse.xtext.testlanguages.services.TestLanguageGrammarAccess;

import com.google.inject.Inject;

public class TestLanguageParsetreeConstructor extends AbstractParseTreeConstructor {
		
	@Inject
	private TestLanguageGrammarAccess grammarAccess;
	
	@Override	
	public TestLanguageGrammarAccess getGrammarAccess() {
		return grammarAccess;
	}

	@Override
	protected AbstractToken getRootToken(IInstanceDescription inst) {
		return new ThisRootNode(inst);	
	}
	
protected class ThisRootNode extends RootToken {
	public ThisRootNode(IInstanceDescription inst) {
		super(inst);
	}
	
	@Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new EntryRule_MultiFeatureAssignment(this, this, 0, inst);
			case 1: return new AbstractRule_Alternatives(this, this, 1, inst);
			case 2: return new ChoiceRule_Group(this, this, 2, inst);
			case 3: return new ReducibleRule_Group(this, this, 3, inst);
			case 4: return new TerminalRule_StringFeatureAssignment(this, this, 4, inst);
			default: return null;
		}	
	}	
}
	

/************ begin Rule EntryRule ****************
 *
 * EntryRule returns Model:
 *   multiFeature+=AbstractRule*;
 *
 **/

// multiFeature+=AbstractRule*
protected class EntryRule_MultiFeatureAssignment extends AssignmentToken  {
	
	public EntryRule_MultiFeatureAssignment(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Assignment getGrammarElement() {
		return grammarAccess.getEntryRuleAccess().getMultiFeatureAssignment();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new AbstractRule_Alternatives(this, this, 0, inst);
			default: return null;
		}	
	}

    @Override	
	protected IInstanceDescription tryConsumeVal() {
		if((value = current.getConsumable("multiFeature",false)) == null) return null;
		IInstanceDescription obj = current.cloneAndConsume("multiFeature");
		if(value instanceof EObject) { // org::eclipse::xtext::impl::RuleCallImpl
			IInstanceDescription param = getDescr((EObject)value);
			if(param.isInstanceOf(grammarAccess.getAbstractRuleRule().getType().getClassifier())) {
				type = AssignmentType.PRC;
				element = grammarAccess.getEntryRuleAccess().getMultiFeatureAbstractRuleParserRuleCall_0(); 
				consumed = obj;
				return param;
			}
		}
		return null;
	}

    @Override
	public AbstractToken createParentFollower(AbstractToken next,	int actIndex, int index, IInstanceDescription inst) {
		if(value == inst.getDelegate() && !inst.isConsumed()) return null;
		switch(index) {
			case 0: return new EntryRule_MultiFeatureAssignment(parent, next, actIndex, consumed);
			default: return parent.createParentFollower(next, actIndex , index - 1, consumed);
		}	
	}	
}

/************ end Rule EntryRule ****************/


/************ begin Rule AbstractRule ****************
 *
 * AbstractRule returns AbstractElement:
 *   ChoiceRule|ReducibleRule;
 *
 **/

// ChoiceRule|ReducibleRule
protected class AbstractRule_Alternatives extends AlternativesToken {

	public AbstractRule_Alternatives(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Alternatives getGrammarElement() {
		return grammarAccess.getAbstractRuleAccess().getAlternatives();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new AbstractRule_ChoiceRuleParserRuleCall_0(parent, this, 0, inst);
			case 1: return new AbstractRule_ReducibleRuleParserRuleCall_1(parent, this, 1, inst);
			default: return null;
		}	
	}

    @Override
	public IInstanceDescription tryConsume() {
		if(current.getDelegate().eClass() == grammarAccess.getChoiceRuleRule().getType().getClassifier() || 
		   current.getDelegate().eClass() == grammarAccess.getReducibleRuleAccess().getReducibleCompositeActionFeatureAction_2_0().getType().getClassifier() || 
		   current.getDelegate().eClass() == grammarAccess.getTerminalRuleRule().getType().getClassifier())
			return tryConsumeVal();
		return null;
	}

}

// ChoiceRule
protected class AbstractRule_ChoiceRuleParserRuleCall_0 extends RuleCallToken {
	
	public AbstractRule_ChoiceRuleParserRuleCall_0(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public RuleCall getGrammarElement() {
		return grammarAccess.getAbstractRuleAccess().getChoiceRuleParserRuleCall_0();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ChoiceRule_Group(this, this, 0, inst);
			default: return null;
		}	
	}

    @Override
	public IInstanceDescription tryConsume() {
		if(current.getDelegate().eClass() == grammarAccess.getChoiceRuleRule().getType().getClassifier())
			return tryConsumeVal();
		return null;
	}

    @Override
	protected IInstanceDescription tryConsumeVal() {
		if(checkForRecursion(ChoiceRule_Group.class, current)) return null;
		return current;
	}
	
    @Override
	public AbstractToken createParentFollower(AbstractToken next,	int actIndex, int index, IInstanceDescription inst) {
		switch(index) {
			default: return parent.createParentFollower(next, actIndex , index, inst);
		}	
	}	
}

// ReducibleRule
protected class AbstractRule_ReducibleRuleParserRuleCall_1 extends RuleCallToken {
	
	public AbstractRule_ReducibleRuleParserRuleCall_1(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public RuleCall getGrammarElement() {
		return grammarAccess.getAbstractRuleAccess().getReducibleRuleParserRuleCall_1();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ReducibleRule_Group(this, this, 0, inst);
			default: return null;
		}	
	}

    @Override
	public IInstanceDescription tryConsume() {
		if(current.getDelegate().eClass() == grammarAccess.getReducibleRuleAccess().getReducibleCompositeActionFeatureAction_2_0().getType().getClassifier() || 
		   current.getDelegate().eClass() == grammarAccess.getTerminalRuleRule().getType().getClassifier())
			return tryConsumeVal();
		return null;
	}

    @Override
	protected IInstanceDescription tryConsumeVal() {
		if(checkForRecursion(ReducibleRule_Group.class, current)) return null;
		return current;
	}
	
    @Override
	public AbstractToken createParentFollower(AbstractToken next,	int actIndex, int index, IInstanceDescription inst) {
		switch(index) {
			default: return parent.createParentFollower(next, actIndex , index, inst);
		}	
	}	
}


/************ end Rule AbstractRule ****************/


/************ begin Rule ChoiceRule ****************
 *
 * ChoiceRule returns ChoiceElement:
 *   "choice" optionalKeyword?="optional"? name=ID;
 *
 **/

// "choice" optionalKeyword?="optional"? name=ID
protected class ChoiceRule_Group extends GroupToken {
	
	public ChoiceRule_Group(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Group getGrammarElement() {
		return grammarAccess.getChoiceRuleAccess().getGroup();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ChoiceRule_NameAssignment_2(parent, this, 0, inst);
			default: return null;
		}	
	}

    @Override
	public IInstanceDescription tryConsume() {
		if(current.getDelegate().eClass() == grammarAccess.getChoiceRuleRule().getType().getClassifier())
			return tryConsumeVal();
		return null;
	}

}

// "choice"
protected class ChoiceRule_ChoiceKeyword_0 extends KeywordToken  {
	
	public ChoiceRule_ChoiceKeyword_0(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Keyword getGrammarElement() {
		return grammarAccess.getChoiceRuleAccess().getChoiceKeyword_0();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			default: return parent.createParentFollower(this, index, index, inst);
		}	
	}

}

// optionalKeyword?="optional"?
protected class ChoiceRule_OptionalKeywordAssignment_1 extends AssignmentToken  {
	
	public ChoiceRule_OptionalKeywordAssignment_1(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Assignment getGrammarElement() {
		return grammarAccess.getChoiceRuleAccess().getOptionalKeywordAssignment_1();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ChoiceRule_ChoiceKeyword_0(parent, this, 0, inst);
			default: return null;
		}	
	}

    @Override	
	protected IInstanceDescription tryConsumeVal() {
		if((value = current.getConsumable("optionalKeyword",false)) == null) return null;
		IInstanceDescription obj = current.cloneAndConsume("optionalKeyword");
		if(Boolean.TRUE.equals(value)) { // org::eclipse::xtext::impl::KeywordImpl
			type = AssignmentType.KW;
			element = grammarAccess.getChoiceRuleAccess().getOptionalKeywordOptionalKeyword_1_0();
			return obj;
		}
		return null;
	}

}

// name=ID
protected class ChoiceRule_NameAssignment_2 extends AssignmentToken  {
	
	public ChoiceRule_NameAssignment_2(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Assignment getGrammarElement() {
		return grammarAccess.getChoiceRuleAccess().getNameAssignment_2();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ChoiceRule_OptionalKeywordAssignment_1(parent, this, 0, inst);
			case 1: return new ChoiceRule_ChoiceKeyword_0(parent, this, 1, inst);
			default: return null;
		}	
	}

    @Override	
	protected IInstanceDescription tryConsumeVal() {
		if((value = current.getConsumable("name",true)) == null) return null;
		IInstanceDescription obj = current.cloneAndConsume("name");
		if(valueSerializer.isValid(obj.getDelegate(), grammarAccess.getChoiceRuleAccess().getNameIDTerminalRuleCall_2_0(), value, null)) {
			type = AssignmentType.LRC;
			element = grammarAccess.getChoiceRuleAccess().getNameIDTerminalRuleCall_2_0();
			return obj;
		}
		return null;
	}

}


/************ end Rule ChoiceRule ****************/


/************ begin Rule ReducibleRule ****************
 *
 * ReducibleRule returns ReducibleElement:
 *   "reducible" TerminalRule ({ReducibleComposite.actionFeature+=current}
 *   actionFeature+=TerminalRule)?;
 *
 **/

// "reducible" TerminalRule ({ReducibleComposite.actionFeature+=current}
// actionFeature+=TerminalRule)?
protected class ReducibleRule_Group extends GroupToken {
	
	public ReducibleRule_Group(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Group getGrammarElement() {
		return grammarAccess.getReducibleRuleAccess().getGroup();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ReducibleRule_Group_2(parent, this, 0, inst);
			case 1: return new ReducibleRule_TerminalRuleParserRuleCall_1(parent, this, 1, inst);
			default: return null;
		}	
	}

    @Override
	public IInstanceDescription tryConsume() {
		if(current.getDelegate().eClass() == grammarAccess.getReducibleRuleAccess().getReducibleCompositeActionFeatureAction_2_0().getType().getClassifier() || 
		   current.getDelegate().eClass() == grammarAccess.getTerminalRuleRule().getType().getClassifier())
			return tryConsumeVal();
		return null;
	}

}

// "reducible"
protected class ReducibleRule_ReducibleKeyword_0 extends KeywordToken  {
	
	public ReducibleRule_ReducibleKeyword_0(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Keyword getGrammarElement() {
		return grammarAccess.getReducibleRuleAccess().getReducibleKeyword_0();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			default: return parent.createParentFollower(this, index, index, inst);
		}	
	}

}

// TerminalRule
protected class ReducibleRule_TerminalRuleParserRuleCall_1 extends RuleCallToken {
	
	public ReducibleRule_TerminalRuleParserRuleCall_1(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public RuleCall getGrammarElement() {
		return grammarAccess.getReducibleRuleAccess().getTerminalRuleParserRuleCall_1();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new TerminalRule_StringFeatureAssignment(this, this, 0, inst);
			default: return null;
		}	
	}

    @Override
	public IInstanceDescription tryConsume() {
		if(current.getDelegate().eClass() == grammarAccess.getTerminalRuleRule().getType().getClassifier())
			return tryConsumeVal();
		return null;
	}

    @Override
	protected IInstanceDescription tryConsumeVal() {
		if(checkForRecursion(TerminalRule_StringFeatureAssignment.class, current)) return null;
		return current;
	}
	
    @Override
	public AbstractToken createParentFollower(AbstractToken next,	int actIndex, int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ReducibleRule_ReducibleKeyword_0(parent, next, actIndex, inst);
			default: return null;
		}	
	}	
}

// ({ReducibleComposite.actionFeature+=current} actionFeature+=TerminalRule)?
protected class ReducibleRule_Group_2 extends GroupToken {
	
	public ReducibleRule_Group_2(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Group getGrammarElement() {
		return grammarAccess.getReducibleRuleAccess().getGroup_2();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ReducibleRule_ActionFeatureAssignment_2_1(parent, this, 0, inst);
			default: return null;
		}	
	}

    @Override
	public IInstanceDescription tryConsume() {
		if(current.getDelegate().eClass() == grammarAccess.getReducibleRuleAccess().getReducibleCompositeActionFeatureAction_2_0().getType().getClassifier())
			return tryConsumeVal();
		return null;
	}

}

// {ReducibleComposite.actionFeature+=current}
protected class ReducibleRule_ReducibleCompositeActionFeatureAction_2_0 extends ActionToken  {

	public ReducibleRule_ReducibleCompositeActionFeatureAction_2_0(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Action getGrammarElement() {
		return grammarAccess.getReducibleRuleAccess().getReducibleCompositeActionFeatureAction_2_0();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new ReducibleRule_TerminalRuleParserRuleCall_1(parent, this, 0, inst);
			default: return null;
		}	
	}

    @Override
	protected IInstanceDescription tryConsumeVal() {
		Object val = current.getConsumable("actionFeature", false);
		if(val == null) return null;
		if(!current.isConsumedWithLastConsumtion("actionFeature")) return null;
		return getDescr((EObject) val);
	}
}

// actionFeature+=TerminalRule
protected class ReducibleRule_ActionFeatureAssignment_2_1 extends AssignmentToken  {
	
	public ReducibleRule_ActionFeatureAssignment_2_1(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Assignment getGrammarElement() {
		return grammarAccess.getReducibleRuleAccess().getActionFeatureAssignment_2_1();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			case 0: return new TerminalRule_StringFeatureAssignment(this, this, 0, inst);
			default: return null;
		}	
	}

    @Override	
	protected IInstanceDescription tryConsumeVal() {
		if((value = current.getConsumable("actionFeature",false)) == null) return null;
		IInstanceDescription obj = current.cloneAndConsume("actionFeature");
		if(value instanceof EObject) { // org::eclipse::xtext::impl::RuleCallImpl
			IInstanceDescription param = getDescr((EObject)value);
			if(param.isInstanceOf(grammarAccess.getTerminalRuleRule().getType().getClassifier())) {
				type = AssignmentType.PRC;
				element = grammarAccess.getReducibleRuleAccess().getActionFeatureTerminalRuleParserRuleCall_2_1_0(); 
				consumed = obj;
				return param;
			}
		}
		return null;
	}

    @Override
	public AbstractToken createParentFollower(AbstractToken next,	int actIndex, int index, IInstanceDescription inst) {
		if(value == inst.getDelegate() && !inst.isConsumed()) return null;
		switch(index) {
			case 0: return new ReducibleRule_ReducibleCompositeActionFeatureAction_2_0(parent, next, actIndex, consumed);
			default: return null;
		}	
	}	
}



/************ end Rule ReducibleRule ****************/


/************ begin Rule TerminalRule ****************
 *
 * TerminalRule returns TerminalElement:
 *   stringFeature=STRING;
 *
 **/

// stringFeature=STRING
protected class TerminalRule_StringFeatureAssignment extends AssignmentToken  {
	
	public TerminalRule_StringFeatureAssignment(AbstractToken parent, AbstractToken next, int no, IInstanceDescription current) {
		super(parent, next, no, current);
	}
	
	@Override
	public Assignment getGrammarElement() {
		return grammarAccess.getTerminalRuleAccess().getStringFeatureAssignment();
	}

    @Override
	public AbstractToken createFollower(int index, IInstanceDescription inst) {
		switch(index) {
			default: return parent.createParentFollower(this, index, index, inst);
		}	
	}

    @Override
	public IInstanceDescription tryConsume() {
		if(current.getDelegate().eClass() == grammarAccess.getTerminalRuleRule().getType().getClassifier())
			return tryConsumeVal();
		return null;
	}

    @Override	
	protected IInstanceDescription tryConsumeVal() {
		if((value = current.getConsumable("stringFeature",true)) == null) return null;
		IInstanceDescription obj = current.cloneAndConsume("stringFeature");
		if(valueSerializer.isValid(obj.getDelegate(), grammarAccess.getTerminalRuleAccess().getStringFeatureSTRINGTerminalRuleCall_0(), value, null)) {
			type = AssignmentType.LRC;
			element = grammarAccess.getTerminalRuleAccess().getStringFeatureSTRINGTerminalRuleCall_0();
			return obj;
		}
		return null;
	}

}

/************ end Rule TerminalRule ****************/

}
