<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="org.eclipse.ui.keywords">
      <keyword
            id="org.eclipse.xtext.keyword.editor"
            label="Editor">
      </keyword>
      <keyword
            id="org.eclipse.xtext.keyword.syntax_coloring"
            label="Syntax">
      </keyword>
   </extension>
  <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.eclipse.xtext.ui.core.editor.handler.ContentAssistHandler"
            commandId="org.eclipse.ui.edit.text.contentAssist.proposals">
         <activeWhen>
            <reference
                  definitionId="isActiveEditorAnInstanceOfXtextEditor">
            </reference>
         </activeWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="isActiveEditorAnInstanceOfXtextEditor">
         <with
               variable="activeEditor">
            <instanceof
                  value="org.eclipse.xtext.ui.core.editor.XtextEditor">
            </instanceof>
         </with>
      </definition>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
        <menuContribution
            locationURI="popup:#TextEditorContext?after=additions">
         <command commandId="org.eclipse.ui.edit.text.contentAssist.proposals"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <reference
                     definitionId="isActiveEditorAnInstanceOfXtextEditor">
               </reference>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <!--extension
         point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectors">
      <hyperlinkDetector
            activate="true"
            class="org.eclipse.xtext.ui.editor.DelegatingHyperlinkDetector"
            id="org.eclipse.xtext.ui.hyperlinkDetector"
            name="XtextHypeLink"
            targetId="org.eclipse.xtext.ui.hyperlinkTarget">
      </hyperlinkDetector>
   </extension>
   <extension
         point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectorTargets">
      <target
            description="Depends on an EditorModel contained in all Xtext editors"
            id="org.eclipse.xtext.ui.hyperlinkTarget"
            name="Xtext Editors">
         <context type="org.eclipse.xtext.ui.editor.model.IEditorModel"/>
      </target>
   </extension-->

<!-- ================================================================================ -->
<!-- Capability definition                                                            -->
<!-- ================================================================================ -->
   <extension
         point="org.eclipse.ui.activities">
         
         <!-- Category -->
    <category
         description="%activity.category.description"
         id="org.eclipse.xtext.ui.category"
         name="%activity.category">
    </category>
         
         <!-- UI elements, defined using general pattern -->
    <activity
          description="%activity.ui.description"
          id="org.eclipse.xtext.ui"
          name="%activity.ui">
    </activity>
    <activityPatternBinding
          activityId="org.eclipse.xtext.ui"
          pattern="org\.eclipse\.xtext\.ui\..*/.*">
    </activityPatternBinding>
    <categoryActivityBinding
        activityId="org.eclipse.xtext.ui"
        categoryId="org.eclipse.xtext.ui.category">
    </categoryActivityBinding>
   <defaultEnablement
       id="org.eclipse.xtext.ui">
   </defaultEnablement>
    </extension>         
</plugin>
