<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="org.eclipse.ui.keywords">
      <keyword
            id="org.eclipse.xtext.keyword.editor"
            label="Editor">
      </keyword>
      <keyword
            id="org.eclipse.xtext.keyword.syntax_coloring"
            label="Syntax">
      </keyword>
   </extension>
   <extension
			point="org.eclipse.ui.preferencePages">
		<page
          class="org.eclipse.xtext.ui.core.editor.preferences.EmptyPreferencePage"
          id="org.eclipse.xtext.languages"
          name="Xtext Languages">
		</page>
	</extension>
  <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.eclipse.xtext.ui.core.editor.handler.ContentAssistHandler"
            commandId="org.eclipse.ui.edit.text.contentAssist.proposals">
         <activeWhen>
            <reference
                  definitionId="isActiveEditorAnInstanceOfXtextEditor">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.xtext.ui.core.editor.handler.ValidateActionHandler"
            commandId="org.eclipse.xtext.ui.editor.validate">
         <activeWhen>
            <reference
                  definitionId="isActiveEditorAnInstanceOfXtextEditor">
            </reference>
         </activeWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="isActiveEditorAnInstanceOfXtextEditor">
         <with
               variable="activeEditor">
            <instanceof
                  value="org.eclipse.xtext.ui.core.editor.XtextEditor">
            </instanceof>
         </with>
      </definition>
   </extension>
   
   <extension
         point="org.eclipse.ui.menus">
        <menuContribution
            locationURI="popup:#TextEditorContext?after=additions">
         <command commandId="org.eclipse.ui.edit.text.contentAssist.proposals"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <reference
                     definitionId="isActiveEditorAnInstanceOfXtextEditor">
               </reference>
            </visibleWhen>
         </command>
      </menuContribution>
        <menuContribution
            locationURI="popup:#TextEditorContext?after=group.open">
             <command
                 commandId="org.eclipse.xtext.ui.editor.validate"
                 style="push"
                 tooltip="Trigger expensive validation">
            <visibleWhen
                  checkEnabled="false">
               <reference
                     definitionId="isActiveEditorAnInstanceOfXtextEditor">
               </reference>
            </visibleWhen>
         </command>  
         </menuContribution>
   
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            description="Editing Xtext Source Context"
            id="org.eclipse.xtext.ui.core.XtextEditorScope"
            name="Editing Xtext Source"
            parentId="org.eclipse.ui.textEditorScope">
      </context>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            description="Trigger expensive validation"
            id="org.eclipse.xtext.ui.editor.validate"
            name="Validate">
      </command>
		<command
            name="Format"
            description="Format text"
            categoryId="org.eclipse.ui.category.textEditor"
            id="org.eclipse.xtext.ui.FormatAction">
      </command>
   </extension>
   <extension point="org.eclipse.core.expressions.propertyTesters">
    <propertyTester
      id="org.eclipse.xtext.ui.core.editor.XtextEditorPropertyTester"
      type="org.eclipse.ui.IEditorPart"
      namespace="org.eclipse.xtext.ui.core.editor.XtextEditor"
      properties="languageName"
      class="org.eclipse.xtext.ui.core.editor.XtextEditorPropertyTester">
    </propertyTester>
  </extension>
 <extension
         point="org.eclipse.ui.bindings">
		<key sequence="M1+M2+F"
            contextId="org.eclipse.ui.textEditorScope"
            commandId="org.eclipse.xtext.ui.FormatAction"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"/>
             </extension>
   <!--extension
         point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectors">
      <hyperlinkDetector
            activate="true"
            class="org.eclipse.xtext.ui.editor.DelegatingHyperlinkDetector"
            id="org.eclipse.xtext.ui.hyperlinkDetector"
            name="XtextHypeLink"
            targetId="org.eclipse.xtext.ui.hyperlinkTarget">
      </hyperlinkDetector>
   </extension>
   <extension
         point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectorTargets">
      <target
            description="Depends on an EditorModel contained in all Xtext editors"
            id="org.eclipse.xtext.ui.hyperlinkTarget"
            name="Xtext Editors">
         <context type="org.eclipse.xtext.ui.editor.model.IEditorModel"/>
      </target>
   </extension-->
</plugin>
