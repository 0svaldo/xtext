<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<title>Static Typing and Java Interoperability</title>

<link href="book.css" rel="stylesheet" type="text/css">
<link href="code.css" rel="stylesheet" type="text/css">
<link rel="home" href="xtext.html" title="">
</head>
<body>
<a name="types"></a>
<h1>Static Typing and Java Interoperability</h1>
<p>
Xtend, like Java, is a statically typed language. In fact it completely supports Java&apos;s type system, including the primitive types 
as <span class="inlinecode"><span class="keyword">int</span></span> or <span class="inlinecode"><span class="keyword">boolean</span></span>, arrays and of course all classes, interfaces, enums and annotations that reside on the 
classpath.  
</p>
<p>
Java generics are fully supported as well: You can define type parameters on methods and classes and pass type arguments to
generic types just as you are used to from Java. The type system and its conformance and casting rules are implemented as
defined in  
<a href="http://docs.oracle.com/javase/specs/jls/se5.0/html/conversions.html">the Java Language Specification</a>.
</p>
<a name="localTypeInference"></a>
<h2>Type Inference</h2>
<p>
One of the problems with Java is that you are forced to write type signatures over
and over again. That is why so many people do not like static typing. 
But this is in fact not a problem of static typing but simply a problem with Java. Although Xtend is typed
just like Java, you rarely have to write types down because they can be computed from the context.
</p>
<a name="conversionRules"></a>
<h2>Conversion Rules</h2>
<p>
In addition to Java&apos;s autoboxing to convert primitives to their corresponding wrapper types (e.g. <span class="inlinecode"><span class="keyword">int</span></span>
is automatically converted to <a class="jdoc" href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html" title="View JavaDoc"><abbr title="java.lang.Integer" >Integer</abbr></a> when needed), there are additional conversion rules.
</p>
<p>
Arrays are automatically converted to <a class="jdoc" href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html" title="View JavaDoc"><abbr title="java.util.List" ><span class="inlinecode">List&lt;ComponentType&gt;</span></abbr></a> and vice versa. That is you can
write the following:
</p>
<p>
<div class="literallayout">
<div class="incode">
<p class="code">
<span class="keyword">def</span>&nbsp;toList(String[]&nbsp;array)&nbsp;{<br/>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;List&lt;String&gt;&nbsp;asList&nbsp;=&nbsp;array<br/>
&nbsp;&nbsp;<span class="keyword">return</span>&nbsp;asList<br/>
}<br/>
</p>
</div>
</div>
</p>
<p>
Another very useful conversion applies to lambda expressions. A lambda expression
usually is of one of the types listed in <a class="jdoc" href="http://xtend-lang.org/api/2.3.0/org/eclipse/xtext/xbase/lib/Functions.html" title="View JavaDoc"><abbr title="org.eclipse.xtext.xbase.lib.Functions" >Functions</abbr></a> <a class="srcLink" href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Functions.java" title="View Source Code" >(src)</a>
or <a class="jdoc" href="http://xtend-lang.org/api/2.3.0/org/eclipse/xtext/xbase/lib/Procedures.html" title="View JavaDoc"><abbr title="org.eclipse.xtext.xbase.lib.Procedures" >Procedures</abbr></a> <a class="srcLink" href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Procedures.java" title="View Source Code" >(src)</a>. However if the expected type is an interface with a single method
declaration, a lambda expression is automatically converted to that
type. This allows to use lambda expressions with many existing Java libraries. See <a href="30-expressions.html#closureTypes" title="Go to &quot;Typing&quot;" >section closureTypes</a>
for more details.
</p>
<a name="javaInteroperability"></a>
<h2>Interoperability with Java</h2>
<p>
Resembling and supporting every aspect of Java&apos;s type system ensures that there is no impedance mismatch between Java and Xtend.
This means that Xtend and Java are 100% interoperable. There are no exceptional cases. You do not have
to think in two worlds. You can call Xtend code from Java and vice versa without any surprises or hassles.
</p>
<p>
As a bonus if you know Java&apos;s type system (specifically generics), you already know the most complicated part
of Xtend.
</p>
</body>
</html>
