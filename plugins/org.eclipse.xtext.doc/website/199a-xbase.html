<br style="clear:both;height:1em;">
	<div id="leftcol">
		<div class="nav-logo">
			<a href="index.php"><img src="logo.png" style="margin-left:10px; width:155px"/></a>
		</div>
		<ul id="leftnav">
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="005-installation.php">Installation</a></div>
		<ul style="display: none;" id="subToc_005-installation.html">
		<li id="005-installation.html#InstallDistro" ><a href="005-installation.php#InstallDistro" >Install Pre-Configured Eclipse With Xtext</a></li>
		<li id="005-installation.html#InstallXtext" ><a href="005-installation.php#InstallXtext" >Install Xtext From Update Site</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="010-xtext-in-5-minutes.php">5 Minutes Tutorial</a></div>
		<ul style="display: none;" id="subToc_010-xtext-in-5-minutes.html">
		<li id="010-xtext-in-5-minutes.html#NewProject" ><a href="010-xtext-in-5-minutes.php#NewProject" >Creating A New Xtext Project</a></li>
		<li id="010-xtext-in-5-minutes.html#RunWorkflow" ><a href="010-xtext-in-5-minutes.php#RunWorkflow" >Generating The Language Infrastructure</a></li>
		<li id="010-xtext-in-5-minutes.html#TestingTheEditor" ><a href="010-xtext-in-5-minutes.php#TestingTheEditor" >Try The Editor</a></li>
		<li id="010-xtext-in-5-minutes.html#Conclusion" ><a href="010-xtext-in-5-minutes.php#Conclusion" >Conclusion</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="020-domainmodel-step-by-step.php">30 Minutes Tutorial</a></div>
		<ul style="display: none;" id="subToc_020-domainmodel-step-by-step.html">
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_4" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_4" >Create A New Xtext Project</a></li>
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_5" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_5" >Write Your Own Grammar</a></li>
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_6" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_6" >Generate Language Artifacts</a></li>
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_7" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_7" >Run the Generated IDE Plug-in</a></li>
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_8" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_8" >Second Iteration : Adding Packages and Imports</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="030-tutorial-next-steps.php">30 Minutes Tutorial - Extended</a></div>
		<ul style="display: none;" id="subToc_030-tutorial-next-steps.html">
		<li id="040-first-code-generator.html" ><a href="040-first-code-generator.php" >Writing a Code Generator With Xtend</a></li>
		<li id="060-unit-tests.html" ><a href="060-unit-tests.php" >Unit Testing the Language</a></li>
		<li id="050-validation.html" ><a href="050-validation.php" >Creating Custom Validation Rules</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="000-introduction.php">Overview</a></div>
		<ul style="display: none;" id="subToc_000-introduction.html">
		<li id="000-introduction.html#Overview_1" ><a href="000-introduction.php#Overview_1" >What is Xtext?</a></li>
		<li id="000-introduction.html#Overview_2" ><a href="000-introduction.php#Overview_2" >How Does It Work?</a></li>
		<li id="000-introduction.html#Overview_3" ><a href="000-introduction.php#Overview_3" >Xtext is Highly Configurable</a></li>
		<li id="000-introduction.html#Overview_4" ><a href="000-introduction.php#Overview_4" >Who Uses Xtext?</a></li>
		<li id="000-introduction.html#Overview_5" ><a href="000-introduction.php#Overview_5" >Who is Behind Xtext?</a></li>
		<li id="000-introduction.html#DSL" ><a href="000-introduction.php#DSL" >What is a Domain-Specific Language</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="020-grammar-language.php">The Grammar Language</a></div>
		<ul style="display: none;" id="subToc_020-grammar-language.html">
		<li id="020-grammar-language.html#statemachine" ><a href="020-grammar-language.php#statemachine" >A First Example</a></li>
		<li id="020-grammar-language.html#syntax" ><a href="020-grammar-language.php#syntax" >The Syntax</a></li>
		<li id="020-grammar-language.html#metamodelInference" ><a href="020-grammar-language.php#metamodelInference" >Ecore Model Inference</a></li>
		<li id="020-grammar-language.html#grammarMixins" ><a href="020-grammar-language.php#grammarMixins" >Grammar Mixins</a></li>
		<li id="020-grammar-language.html#grammarLanguage_6" ><a href="020-grammar-language.php#grammarLanguage_6" >Common Terminals</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="030-generator.php">Configuration</a></div>
		<ul style="display: none;" id="subToc_030-generator.html">
		<li id="030-generator.html#generator" ><a href="030-generator.php#generator" >The Language Generator</a></li>
		<li id="040-dependency-injection.html" ><a href="040-dependency-injection.php" >Dependency Injection in Xtext with Google Guice</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="050-heading-runtime.php">Runtime Concepts</a></div>
		<ul style="display: none;" id="subToc_050-heading-runtime.html">
		<li id="050-heading-runtime.html#runtimeSetup" ><a href="050-heading-runtime.php#runtimeSetup" >Runtime Setup (ISetup)</a></li>
		<li id="050-heading-runtime.html#equinoxSetup" ><a href="050-heading-runtime.php#equinoxSetup" >Setup within Eclipse-Equinox (OSGi)</a></li>
		<li id="050-heading-runtime.html#runtime_concepts_4" ><a href="050-heading-runtime.php#runtime_concepts_4" >Logging</a></li>
		<li id="060-validation.html" ><a href="060-validation.php" >Validation</a></li>
		<li id="070-linking.html" ><a href="070-linking.php" >Linking</a></li>
		<li id="080-scoping.html" ><a href="080-scoping.php" >Scoping</a></li>
		<li id="090-valueconverter.html" ><a href="090-valueconverter.php" >Value Converter</a></li>
		<li id="100-serialization.html" ><a href="100-serialization.php" >Serialization</a></li>
		<li id="105-formatting.html" ><a href="105-formatting.php" >Formatting (Pretty Printing)</a></li>
		<li id="110-fragmentprovider.html" ><a href="110-fragmentprovider.php" >Fragment Provider (Referencing Xtext Models From Other EMF Artifacts)</a></li>
		<li id="115-encoding.html" ><a href="115-encoding.php" >Encoding in Xtext</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="118-mwe-in-depth.php">MWE2</a></div>
		<ul style="display: none;" id="subToc_118-mwe-in-depth.html">
		<li id="118-mwe-in-depth.html#MWE2Exampe" ><a href="118-mwe-in-depth.php#MWE2Exampe" >Examples</a></li>
		<li id="118-mwe-in-depth.html#MWE2LanguageReference" ><a href="118-mwe-in-depth.php#MWE2LanguageReference" >Language Reference</a></li>
		<li id="118-mwe-in-depth.html#MWE2SyntaxReference" ><a href="118-mwe-in-depth.php#MWE2SyntaxReference" >Syntax Reference</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="120-heading-UI.php">IDE Concepts</a></div>
		<ul style="display: none;" id="subToc_120-heading-UI.html">
		<li id="140-labelprovider.html" ><a href="140-labelprovider.php" >Label Provider</a></li>
		<li id="150-contentassist.html" ><a href="150-contentassist.php" >Content Assist</a></li>
		<li id="155-quickfix.html" ><a href="155-quickfix.php" >Quick Fixes</a></li>
		<li id="160-templates.html" ><a href="160-templates.php" >Template Proposals</a></li>
		<li id="170-outline.html" ><a href="170-outline.php" >Outline View</a></li>
		<li id="180-hyperlinking.html" ><a href="180-hyperlinking.php" >Hyperlinking</a></li>
		<li id="195-highlighting.html" ><a href="195-highlighting.php" >Syntax Coloring</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="199-jvmtypes.php">Referring to Java Types</a></div>
		<ul style="display: none;" id="subToc_199-jvmtypes.html">
		<li id="199-jvmtypes.html#jvmtypes_3" ><a href="199-jvmtypes.php#jvmtypes_3" >How to Use Java Types</a></li>
		<li id="199-jvmtypes.html#jvmtypes_4" ><a href="199-jvmtypes.php#jvmtypes_4" >Customization Points</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="199a-xbase.php">Integrating Xbase Into Your DSLs</a></div>
		<ul style="display: none;" id="subToc_199a-xbase.html">
		<li id="199a-xbase.html#xbase_2" ><a href="199a-xbase.php#xbase_2" >Configuring a language for Xbase</a></li>
		<li id="199a-xbase.html#xbase_3" ><a href="199a-xbase.php#xbase_3" >Integrating Into the Typesystem</a></li>
		<li id="199a-xbase.html#xbase_4" ><a href="199a-xbase.php#xbase_4" >Writing a Code Generator</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="210-emf-integration.php">Integration with EMF and Other EMF Editors</a></div>
		<ul style="display: none;" id="subToc_210-emf-integration.html">
		<li id="210-emf-integration.html#model_metamodel" ><a href="210-emf-integration.php#model_metamodel" >Model, Ecore Model, and Ecore</a></li>
		<li id="210-emf-integration.html#emf_codegen" ><a href="210-emf-integration.php#emf_codegen" >EMF Code Generation</a></li>
		<li id="210-emf-integration.html#xtext_resource" ><a href="210-emf-integration.php#xtext_resource" >XtextResource Implementation</a></li>
		<li id="210-emf-integration.html#gmf_integration" ><a href="210-emf-integration.php#gmf_integration" >Integration with GMF Editors</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="213-migrating-from-1.0.php">Migrating from Xtext 1.0.x to 2.0</a></div>
		<ul style="display: none;" id="subToc_213-migrating-from-1.0.html">
		<li id="213-migrating-from-1.0.html#migrating_from_1_0_x_4" ><a href="213-migrating-from-1.0.php#migrating_from_1_0_x_4" >Take the Shortcut</a></li>
		<li id="213-migrating-from-1.0.html#migrating_from_1_0_x_5" ><a href="213-migrating-from-1.0.php#migrating_from_1_0_x_5" >Migrating Step By Step</a></li>
		<li id="213-migrating-from-1.0.html#migrating_from_1_0_x_6" ><a href="213-migrating-from-1.0.php#migrating_from_1_0_x_6" >Now go for then new features</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="215-migrating-from-0.7.php">Migrating from Xtext 0.7.x to 1.0</a></div>
		<ul style="display: none;" id="subToc_215-migrating-from-0.7.html">
		<li id="215-migrating-from-0.7.html#migrating_from_0_7_2" ><a href="215-migrating-from-0.7.php#migrating_from_0_7_2" >Migrating Step By Step</a></li>
		</ul>
		</li>
		</ul>
	</div>
	<div id="midcolumn">
		<a name="xbase" ></a>
		<h1>Integrating Xbase Into Your DSLs</h1>
				<div class="toc">
				  <ul>
				    <li><a href="199a-xbase.php#xbase_2" >Configuring a language for Xbase</a></li>
				    <li><a href="199a-xbase.php#xbase_3" >Integrating Into the Typesystem</a></li>
				    <li><a href="199a-xbase.php#xbase_4" >Writing a Code Generator</a></li>
				  </ul>
				</div>
				
		<p>
		Xbase is an expression language that can be embedded in Xtext languages. Its syntax is close to Java,
		but it additionally offers type inferrence, closures, a rich switch statement and a lot more. For details
		on the Xbase langugae itself, please consult the Xbase documentation and the Xbase tutorial. Xbase ships 
		with an interpreter and a compiler to Java code. Thus it is easy to add executable behavior to your DSLs.
		As Xbase integrates tightly with Java, there is usually no additional code needed to run your DSL as
		part of a Java application. 
		</p>
			<a name="xbase_2" ></a>
			<span style="float:left; border-top: 1px dotted #d4d4dd; margin-left: 0; margin-top: 5px;
		padding: 5px 0;
		padding-top: 5px;"></span><a style="float: right" href="#">Top</a>
		<br style="clear:both" />
			<h1>Configuring a language for Xbase</h1>
				<div class="toc">
				  <ul>
				    <li><a href="199a-xbase.php#xbase_2_2" >Setup Plug-in Dependencies</a></li>
				    <li><a href="199a-xbase.php#xbase_2_3" >Making Your Grammar Refer To Xbase</a></li>
				    <li><a href="199a-xbase.php#xbase_2_4" >Generating your language with Xbase support</a></li>
				  </ul>
				</div>
			<p>
			The following section describes how to enable Xbase expressions and references to Java types in your own DSL.
			We will refer to the domainmodel example all through this section.
			</p>
			<a name="xbase_2_2" ></a>
			<h2>Setup Plug-in Dependencies</h2>
			<p>
			Your language plug-ins have to have a dependency to the appropriate Xbase plug-in. Add <em>org.eclipse.xtext.xbase</em> 
			to your runtime plug-in and <em>org.eclipse.xbase.ui</em> to the UI plug-in. Into the bargain,
			Xbase uses the common types model to define its types, so it is likely you need dependencies to 
			<em>org.eclipse.xtext.common.types</em> and <em>org.eclipse.xtext.common.types.ui</em>. To use Xtend-based components,
			you will furthermore need <em>org.eclipse.xtext.xtend2.lib</em> on the classpath of the runtime plug-in. 
			</p>
			<a name="xbase_2_3" ></a>
			<h2>Making Your Grammar Refer To Xbase</h2>
			<p>
			To leverage Xbase, your DSL's grammar must inherit from the Xbase grammar. You have to change the <em>with</em>
			clause of our grammar to 
			</p>
			<p>
			<div class="literallayout">
			<div class="incode">
			<p class="code">
			<span class="keyword">grammar</span>&nbsp;&lt;myLangugaeName&gt;&nbsp;<span class="keyword">with</span>&nbsp;org.eclipse.xtext.xbase.Xbase
			</p>
			</div>
			</div>
			</p>
			<p>
			The Xbase grammar inherits from <em>org.eclipse.xtext.xbase.Xtype</em>, a language that defines a concrete 
			syntax for type references. Xtype inherits from the default <em>org.eclipse.xtext.common.Terminals</em> 
			language. So if your language is not based on the common terminals, you might have to have to insert an
			additional language to the hierarchy.
			</p>
			<p>
			If you want to refer to <a class="jdoc" href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html" title="org.eclipse.emf.ecore.EClassifier">EClassifiers</abbr></a> from the Xbase model, you need
			to import it first. The same holds for the common types model:
			</p>
			<p>
			<div class="literallayout">
			<div class="incode">
			<p class="code">
			<span class="keyword">import</span>&nbsp;<span class="string">"http://www.eclipse.org/xtext/xbase/Xbase"</span>&nbsp;<span class="keyword">as</span>&nbsp;xbase<br/>
			<span class="keyword">import</span>&nbsp;<span class="string">"http://www.eclipse.org/xtext/common/JavaVMTypes"</span>&nbsp;<span class="keyword">as</span>&nbsp;jvmTypes
			</p>
			</div>
			</div>
			</p>
			<p>
			Now identify the location in your grammar, where you want references to Java types and Xbase expression to appear
			and call the appropriate rules of the super grammar. Have a look at the domainmodel example: An <em>Entity</em>
			can refer to a Java <em>superType</em>, so we call the rule <em>JvmTypeReference</em> in the declaration:
			</p>
			<p>
			<div class="literallayout">
			<div class="incode">
			<p class="code">
			Entity:<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">&apos;entity&apos;</span>&nbsp;name=ValidID&nbsp;(<span class="string">&apos;extends&apos;</span>&nbsp;superType=JvmTypeReference)?&nbsp;<span class="string">&apos;{&apos;</span><br/>
			&nbsp;&nbsp;&nbsp;&nbsp;...
			</p>
			</div>
			</div>
			</p>
			<p>
			An <em>Operation</em>'s parameters are <em>JvmFormalParamters</em>, its return type refers to a Java type and its <em>body</em> is
			an <em>XBlockExpression</em>, so its parser rule reads as
			</p>
			<p>
			<div class="literallayout">
			<div class="incode">
			<p class="code">
			Operation:<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;visibility=Visibility?&nbsp;<span class="string">&apos;op&apos;</span>&nbsp;name=ValidID&nbsp;<span class="string">&apos;(&apos;</span>&nbsp;<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;(params+=JvmFormalParameter&nbsp;(<span class="string">&apos;,&apos;</span>&nbsp;params+=JvmFormalParameter)*)?&nbsp;<span class="string">&apos;)&apos;</span>&nbsp;<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">&apos;:&apos;</span>&nbsp;type=JvmTypeReference&nbsp;<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body=XBlockExpression;
			</p>
			</div>
			</div>
			</p>
			<p>
			If you're unsure which entry point to choose for your expressions, consider the root <em>XExpression</em>.
			<em>JvmTypeReference</em> offers the full Java syntax to refer to generic types.  
			</p>
			<a name="xbase_2_4" ></a>
			<h2>Generating your language with Xbase support</h2>
			<p>
			You have to register the EMF genmodels of Xbase and common types to the <abbr title="org.eclipse.emf.mwe.utils.StandaloneSetup" >StandaloneSetup</abbr>
			of your MWE2 workflow
			</p>
			<p>
			<div class="literallayout">
			<div class="incode">
			<p class="code">
			bean&nbsp;=&nbsp;StandaloneSetup&nbsp;{<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;...<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;registerGenModelFile&nbsp;=&nbsp;<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"platform:/resource/org.eclipse.xtext.xbase/model/Xbase.genmodel"</span><br/>
			&nbsp;&nbsp;&nbsp;&nbsp;registerGenModelFile&nbsp;=&nbsp;<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"platform:/resource/org.eclipse.xtext.common.types/model/JavaVMTypes.genmodel"</span>
			</p>
			</div>
			</div>
			</p>
			<p>
			Also make sure you have the <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/generator/types/TypesGeneratorFragment.html" title="org.eclipse.xtext.generator.types.TypesGeneratorFragment">TypesGeneratorFragment</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/types/TypesGeneratorFragment.java" title="View Source Code" >(src)</a> and the
			<a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/generator/xbase/XbaseGeneratorFragment.html" title="org.eclipse.xtext.generator.xbase.XbaseGeneratorFragment">XbaseGeneratorFragment</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/xbase/XbaseGeneratorFragment.java" title="View Source Code" >(src)</a> in place
			</p>
			<p>
			<div class="literallayout">
			<div class="incode">
			<p class="code">
			fragment&nbsp;=&nbsp;types.TypesGeneratorFragment&nbsp;{}<br/>
			fragment&nbsp;=&nbsp;xbase.XbaseGeneratorFragment&nbsp;{}
			</p>
			</div>
			</div>
			</p>
			<p>
			Several MWE generator fragments have additional properties for the <a href="199a-xbase.php#jvmModelInferrence" title="Go to &quot;Inferring a JVM Model&quot;">JVM model inferrence</a>:
			<table>
			  <tr>
			    <td><a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/generator/xbase/XbaseGeneratorFragment.html" title="org.eclipse.xtext.generator.xbase.XbaseGeneratorFragment">XbaseGeneratorFragment</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/xbase/XbaseGeneratorFragment.java" title="View Source Code" >(src)</a></td>
			    <td><em>useInferredJvmModel</em></td>
			    <td>Generate a <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html" title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java" title="View Source Code" >(src)</a> stub and hooks for an inferred JVM model</td>
			  </tr>
			  <tr>
			    <td><a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/generator/xbase/XbaseGeneratorFragment.html" title="org.eclipse.xtext.generator.xbase.XbaseGeneratorFragment">XbaseGeneratorFragment</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/xbase/XbaseGeneratorFragment.java" title="View Source Code" >(src)</a></td>
			    <td><em>generateXtendInferrer</em></td>
			    <td>Generate the <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html" title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java" title="View Source Code" >(src)</a> stub in Xtend instead of Java</td>
			  </tr>
			  <tr>
			    <td><a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/ui/generator/refactoring/RefactorElementNameFragment.html" title="org.eclipse.xtext.ui.generator.refactoring.RefactorElementNameFragment">RefactorElementNameFragment</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/refactoring/RefactorElementNameFragment.java" title="View Source Code" >(src)</a></td>
			    <td><em>useJdtRefactoring</em></td>
			    <td>Always trigger JDT refactoring and register element rename refactoring as a participant thereof</td>
			  </tr>
			</table>
			</p>
			<p>
			To avoid running out of memory when regenerating, you increase the maximum heap size and the permanent generation
			space in the run configuration of your workflow. We recommend at least 
			</p>
			<p>
			<span class="inlinecode">-Xmx512m&nbsp;-XX:MaxPermSize=128m</span> 
			</p>
			<p>
			in the <em>VM Arguments</em> section of the <em>Arguments</em> tab. If you are experiencing ambiguity warnings from Antlr,
			the <a href="020-grammar-language.php#antlr_errors" title="Go to &quot;Syntactic Predicates&quot;">usual measurements</a>.
			</p>
			<a name="xbase_3" ></a>
			<span style="float:left; border-top: 1px dotted #d4d4dd; margin-left: 0; margin-top: 5px;
		padding: 5px 0;
		padding-top: 5px;"></span><a style="float: right" href="#">Top</a>
		<br style="clear:both" />
			<h1>Integrating Into the Typesystem</h1>
				<div class="toc">
				  <ul>
				    <li><a href="199a-xbase.php#jvmModelInferrence" >Inferring a JVM Model</a></li>
				    <li><a href="199a-xbase.php#xbase_3_2" >Populating Scopes</a></li>
				  </ul>
				</div>
			<a name="jvmModelInferrence" ></a>
			<h2>Inferring a JVM Model</h2>
			<p>
			In many cases, you will want your DSLs concepts to be usable as Java elements. E.g. an <em>Entity</em> will
			become a Java class and should be usable as such. In the domainmodel example, you can write  
			</p>
			<p>
			<div class="literallayout">
			<div class="incode">
			<p class="code">
			<span class="keyword">entity</span>&nbsp;Person&nbsp;{<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;friends:&nbsp;List&lt;Person&gt;<br/>
			...
			</p>
			</div>
			</div>
			</p>
			<p>
			i.e. use entities instead of Java types or even mix Java types as <a class="jdoc" href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html" title="java.util.List">List</abbr></a> with entities such as <em>Person</em>.
			One way to achieve this is to let your concepts inherit from a corresponding JVM type, e.g. let <em>Entity</em>
			inherit from <em>JvmGenericType</em>. This usually results in a lot of accidentally inherited properties in
			your domain model. In Xbase there is an alternative: You can define how to derive a JVM model from your
			model and link against this <em>inferred JVM model</em>. 
			</p>
			<p>
			The main component for the inferred JVM model is the <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html" title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java" title="View Source Code" >(src)</a>.
			It has a single method that gets a model element passed in and returns a list of 
			<a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/common/types/JvmGenericType.html" title="org.eclipse.xtext.common.types.JvmGenericType">JvmGenericTypes</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext/src/org/eclipse/xtext/common/types/JvmGenericType.java" title="View Source Code" >(src)</a>. As Xbase cannot guess how you
			would like to map your concepts to JVM elements, you have to implement this component yourself. This
			usually boils down to use an injected <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/common/types/TypesFactory.html" title="org.eclipse.xtext.common.types.TypesFactory">TypesFactory</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext/src/org/eclipse/xtext/common/types/TypesFactory.java" title="View Source Code" >(src)</a> to create
			a hierarchy of JVM elements, initialize that with values from the input model, and eventually use an injected
			<a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/xbase/jvmmodel/IJvmModelAssociator.html" title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelAssociator">IJvmModelAssociator</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelAssociator.java" title="View Source Code" >(src)</a> to associate the model elements with the
			JVM elements. As this kind of transformation can be elegantly implemented using polymorphic dispatch
			functions and extension methods, it is a good choice to write the 
			<a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html" title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java" title="View Source Code" >(src)</a> in Xtend.
			</p>
			<p>
			In the domain model example, we call a recursive polymorphic dispatch function <em>transform</em> to traverse
			the containment hierarchy of the source model and generate JVM elements on the way. We transform each
			<em>Entity</em> to a <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/common/types/JvmGenericType.html" title="org.eclipse.xtext.common.types.JvmGenericType">JvmGenericType</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext/src/org/eclipse/xtext/common/types/JvmGenericType.java" title="View Source Code" >(src)</a> that holds a 
			<a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/common/types/JvmOperation.html" title="org.eclipse.xtext.common.types.JvmOperation">JvmOperation</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext/src/org/eclipse/xtext/common/types/JvmOperation.java" title="View Source Code" >(src)</a> for each <em>Operation</em> and a 
			<a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/common/types/JvmField.html" title="org.eclipse.xtext.common.types.JvmField">JvmField</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext/src/org/eclipse/xtext/common/types/JvmField.java" title="View Source Code" >(src)</a> plus access methods for each <em>Property</em>. Whenever
			we have to copy a subtree, e.g. for setting the supertype of the <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/common/types/JvmGenericType.html" title="org.eclipse.xtext.common.types.JvmGenericType">JvmGenericType</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext/src/org/eclipse/xtext/common/types/JvmGenericType.java" title="View Source Code" >(src)</a>,
			we use <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/EcoreUtil2.html" title="org.eclipse.xtext.EcoreUtil2">EcoreUtil2</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext/src/org/eclipse/xtext/EcoreUtil2.java" title="View Source Code" >(src)</a> .<em>cloneWithProxies()</em> to avoid eager resolution of referenced
			types. 
			</p>
			<p>
			The framework will automatically switch between the JVM element or the DSL element when needed, e.g. when 
			following hyperlinks. The component allowing to navigate between the source model and the JVM model is
			called <a class="jdoc" href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.0.0/org/eclipse/xtext/xbase/jvmmodel/IJvmModelAssociations.html" title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelAssociations">IJvmModelAssociations</abbr></a> <a class="srcLink" href="https://github.com/svenefftinge/Xtext-2.0-released-source-code/tree/master/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelAssociations.java" title="View Source Code" >(src)</a>.  
			</p>
			<a name="xbase_3_2" ></a>
			<h2>Populating Scopes</h2>
			<p>
			Xbase expressions are usually referring to a context. 
			</p>
			<a name="xbase_4" ></a>
			<span style="float:left; border-top: 1px dotted #d4d4dd; margin-left: 0; margin-top: 5px;
		padding: 5px 0;
		padding-top: 5px;"></span><a style="float: right" href="#">Top</a>
		<br style="clear:both" />
			<h1>Writing a Code Generator</h1>
			<p>
			</p>
	</div>
	<br style="clear:both;height:1em;">
