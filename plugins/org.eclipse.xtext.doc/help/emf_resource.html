<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>EMF Resources</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator">
<link rel="home" href="index.html" title="Xtext User Guide">
<link rel="up" href="concepts.html" title="Xtext and EMF">
<link rel="prev" href="emf_codegen.html" title="EMF code generation">
<link rel="next" href="grammar_model.html" title="Grammar model">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">EMF Resources</h1>
<p>EMF offers RESTful (REpresentational State Transfer) persistence of your models. </p>
<p>An 
				<code class="code">org.eclipse.emf.ecore.Resource</code> is a container for a model that adds support for persistence. When working with files, you can assume that a resource is the in-memory representation of a model file. There are different implementations of the resource interface, e.g. for XMI, XML or binary serialization of models. The ${org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource} encapsulates the parser and 
				<a class="link" href="serialization.html" title="Serialization">serializer</a> of your DSL, thus transparently reading and writing your models in the syntax according to your grammar while offering an EMF view on the semantic model.     
			</p>
<p>Each EMF resource has a 
				<a class="ulink" href="http://www.ietf.org/rfc/rfc2396.txt" target="_new">
					<span class="emphasis"><em>Uniform Resource Identifier (URI)</em></span>
				</a> defining where and how the resource can be accessed. Resource URIs are of the form 
			</p>
<div class="literallayout">
<p>
<code class="code">[scheme]:[authority][path]<br>

</code>
</p>
</div>
<p>where each segment is optional. Authority and path segments are separated by slashes. URIs can be absolute or relative and are represented by the class 
				<code class="code">org.eclipse.emf.common.util.URI</code>. 
			</p>
<p>Resources are usually created by a 
				<code class="code">org.eclipse.emf.ecore.Resource.Factory</code>.  Xtext will register a resource factory that creates an 
				<code class="code">XtextReosurce</code> for your language if the given URI ends with the file extension you provided in the 
				<code class="code">.properties</code> file of your language.
			</p>
<p>In addition to the standard schemes like 
				<code class="code">http:</code> or 
				<code class="code">file:</code>, EMF introduces two new types of URIs, useful when operating inside an Eclipse workbench
			</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
						
<code class="code">platform:/resource/&lt;project&gt;/&lt;path&gt;</code> refers to files in the workspace
					</p>
</li>
<li class="listitem">
<p>
						
<code class="code">platform:/plugin/&lt;plugin&gt;/path</code> uses the class loader of an installed plug-in&rsquo;s to load a file.
					</p>
</li>
</ul>
</div>
<p>Model elements (EObjects) within a resource are referred to by a so called 
				<span class="emphasis"><em>fragment</em></span>. The fragment must be unique inside the resource. The URI of an EObject consists of the URI of its resource followed by a hash mark &lsquo;#&rsquo; and its fragment. The default EMF strategy for calculating fragments is to build a path expression, similar to XPath. In Xtext, you can override that by binding a new 
				<code class="code">IFragmentProvider</code>.
			</p>
<p>As the name suggests, a 
				<span class="emphasis"><em>ResourceSet</em></span> is a set of resources. The model elements in these resources can have cross references across the resource boundaries. EMF supports lazy loading, i.e. when you navigate a reference to a resource that has not been loaded yet, the resource will be transparently loaded into the same ResourceSet as the referring resource. A ResourceSet also allows to override several global registries and services. 
			</p>
<p>Xtext offers two additional ResourceSet implementations: </p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>${org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResourceSet.java} supports a new URI scheme 
						<code class="code">classpath:</code> to load resources with a classloader. As there can be multiple classloader inside the same Java process, the XtextResourceSet must be configured with a context.
					</p>
</li>
<li class="listitem">
<p>${org.eclipse.xtext/src/org/eclipse/xtext/resource/SynchronizedXtextResourceSet.java} guards the list of resources for concurrent access.  </p>
</li>
</ul>
</div>
</body>
</html>
